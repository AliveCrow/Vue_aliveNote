(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c811fca"],{"4b7f":function(e,s,t){"use strict";t("ded1")},"73cf":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"form_box g_border"},[e._m(0),t("form",{ref:"form",staticClass:"form",attrs:{method:"post"},on:{submit:e.register}},[t("div",{staticStyle:{display:"flex",width:"100%","margin-bottom":"30px"}},[t("blockquote",{staticStyle:{"padding-right":"30px",width:"100%"}},[t("label",{staticClass:"form_box__label",attrs:{for:"username"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.registerObj.username,expression:"registerObj.username",modifiers:{trim:!0}}],ref:"username",staticClass:"form_box__input g_border placeholder__move",attrs:{id:"username",name:"username",type:"text",placeholder:"用户名"},domProps:{value:e.registerObj.username},on:{input:function(s){s.target.composing||e.$set(e.registerObj,"username",s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}})]),t("span",{ref:"username_msg",staticClass:"tip  g_error",staticStyle:{display:"none"}})]),t("blockquote",{staticStyle:{width:"100%"}},[t("label",{staticClass:"form_box__label",attrs:{for:"nickname"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.registerObj.nickname,expression:"registerObj.nickname",modifiers:{trim:!0}}],ref:"nickname",staticClass:"form_box__input g_border",attrs:{id:"nickname",name:"nickname",type:"text",placeholder:"昵称"},domProps:{value:e.registerObj.nickname},on:{input:function(s){s.target.composing||e.$set(e.registerObj,"nickname",s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}})]),t("span",{ref:"nickname_msg",staticClass:"tip  g_error",staticStyle:{display:"none"}})])]),t("label",{staticClass:"form_box__label",attrs:{for:"email"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.registerObj.email,expression:"registerObj.email",modifiers:{trim:!0}}],ref:"email",staticClass:"form_box__input g_border",attrs:{id:"email",name:"email",type:"text",placeholder:"邮箱(找回密码使用，务必填写)",autocomplete:"none"},domProps:{value:e.registerObj.email},on:{input:function(s){s.target.composing||e.$set(e.registerObj,"email",s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("span",{ref:"email_msg",staticClass:"tip  g_error",staticStyle:{display:"none"}})]),t("div",{staticStyle:{display:"flex",width:"100%"}},[t("blockquote",{staticStyle:{"padding-right":"30px",width:"100%"}},[t("label",{staticClass:"form_box__label",attrs:{for:"password"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.registerObj.password,expression:"registerObj.password",modifiers:{trim:!0}}],ref:"password",staticClass:"form_box__input g_border placeholder__move",attrs:{id:"password",name:"password",type:"password",placeholder:"密码",autocomplete:"none"},domProps:{value:e.registerObj.password},on:{input:function(s){s.target.composing||e.$set(e.registerObj,"password",s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("span",{ref:"password_msg",staticClass:"tip g_error",staticStyle:{display:"none"}})])]),t("blockquote",{staticStyle:{width:"100%"}},[t("label",{staticClass:"form_box__label",attrs:{for:"password_confirm"}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.registerObj.password_confirm,expression:"registerObj.password_confirm",modifiers:{trim:!0}}],ref:"password_confirm",staticClass:"form_box__input g_border",attrs:{id:"password_confirm",name:"password_confirm",type:"password",placeholder:"确认",autocomplete:"none"},domProps:{value:e.registerObj.password_confirm},on:{input:function(s){s.target.composing||e.$set(e.registerObj,"password_confirm",s.target.value.trim())},blur:function(s){return e.$forceUpdate()}}}),t("span",{ref:"password_confirm_msg",staticClass:"tip g_error",staticStyle:{display:"none"}})])])]),t("div",{staticClass:"form_box__submit"},[t("router-link",{staticClass:"register g_font_weight",attrs:{to:{name:"Login",path:"/login"}}},[e._v("登录现有账户")]),t("label",{attrs:{for:"submit"}},[t("input",{ref:"register",staticClass:"form_box__submit_btn g_font_weight",attrs:{id:"submit",type:"submit",value:"注册"}})])],1)])])])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"form_box__title"},[t("h2",[e._v("注册账号")])])}],a=t("ddb5"),o=t("bedc"),n=t("ce1e"),l=t("ce9d"),c=(t("a9b6"),t("3fab"),t("3f27"),t("fd63")),m=t("e4a1"),f=function(e){Object(n["a"])(t,e);var s=Object(l["a"])(t);function t(){var e;return Object(a["a"])(this,t),e=s.apply(this,arguments),e.canClick=!0,e.registerObj={username:"",nickname:"",email:"",password:"",password_confirm:""},e.successClass=function(e,s){e.classList.remove("g_error"),e.classList.add("g_success"),s.style.display="none",s.innerText=""},e.failClass=function(e,s,t){e.classList.remove("g_success"),e.classList.add("g_error"),s.style.display="inline-block",s.innerText=t},e}return Object(o["a"])(t,[{key:"register",value:function(e){var s=this;e.preventDefault(),this.$refs.register.style.cursor="not-allowed",this.$refs.register.style.backgroundColor="rgba(25, 93, 229,.6)",this.$nextTick((function(){s.rule().then((function(){s.canClick&&(s.canClick=!1,s.axios.post("/register",s.registerObj).then((function(e){setTimeout((function(){s.canClick=!0,s.$refs.register.style.cursor="default",s.$refs.register.style.backgroundColor="rgba(25, 93, 229,1)"}),700),console.log(e),-1!==e.data.stateCode?(s.$toast.success("注册成功"),setTimeout((function(){s.$router.push({path:"login"})}),1e3)):s.$toast.error(e.data.msg)})))})).catch((function(){setTimeout((function(){s.canClick=!0,s.$refs.register.style.cursor="default",s.$refs.register.style.backgroundColor="rgba(25, 93, 229,1)"}),700),s.$toast.error("请查看表单提示,重新填写")}))}))}},{key:"rule",value:function(){var e=this;return new Promise((function(s,t){e.verificationUsername(e.registerObj.username)&&e.verificationNickname(e.registerObj.nickname)&&e.verificationPassword(e.registerObj.password)&&e.passwordIsSame(e.registerObj.password,e.registerObj.password_confirm)&&e.verificationEmail(e.registerObj.email)?s():t()}))}},{key:"verificationUsername",value:function(e){var s=/^[0-9A-Za-z]{4,24}$/;return s.test(e)?(this.successClass(this.$refs.form[0],this.$refs.username_msg),!0):(this.failClass(this.$refs.form[0],this.$refs.username_msg,"用户名是你的登录账户,只能使用字母(a-Z)和数字(0-9),最短4位"),!1)}},{key:"verificationNickname",value:function(e){return""!==e?(this.successClass(this.$refs.form[1],this.$refs.nickname_msg),!0):(this.failClass(this.$refs.form[1],this.$refs.nickname_msg,"请输入昵称"),!1)}},{key:"verificationEmail",value:function(e){var s=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return s.test(e)?(this.successClass(this.$refs.form[2],this.$refs.email_msg),!0):(this.failClass(this.$refs.form[2],this.$refs.email_msg,"邮箱格式错误"),!1)}},{key:"verificationPassword",value:function(e){return e.length>=8&&e.length<24&&/^[^\s]*$/.test(e)?(this.successClass(this.$refs.form[3],this.$refs.password_msg),!0):(this.failClass(this.$refs.form[3],this.$refs.password_msg,"至少8位字符串,至多24位,不能有空格"),!1)}},{key:"passwordIsSame",value:function(e,s){return e===s?(this.successClass(this.$refs.form[4],this.$refs.password_confirm_msg),!0):(this.failClass(this.$refs.form[4],this.$refs.password_confirm_msg,"这两个密码不一致，请重试。"),!1)}}]),t}(m["e"]);f=Object(c["a"])([m["a"]],f);var u=f,d=u,p=(t("4b7f"),t("cba8")),g=Object(p["a"])(d,r,i,!1,null,"5691c282",null);s["default"]=g.exports},ded1:function(e,s,t){}}]);
//# sourceMappingURL=chunk-4c811fca.193cefb0.js.map