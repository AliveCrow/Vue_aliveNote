(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5561e5e7"],{"2e54":function(t,a,e){},3955:function(t,a,e){"use strict";e("2e54")},5426:function(t,a,e){var n=e("1111").PROPER,i=e("b68d"),s=e("de35"),o="​᠎";t.exports=function(t){return i((function(){return!!s[t]()||o[t]()!==o||n&&s[t].name!==t}))}},8130:function(t,a,e){"use strict";var n=e("a5ba"),i=e("e280").trim,s=e("5426");n({target:"String",proto:!0,forced:s("trim")},{trim:function(){return i(this)}})},ebca:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"TagsManage_app"}},[e("div",{staticClass:"add_tag"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tagName,expression:"tagName"}],staticClass:"add_tag_name",attrs:{type:"text"},domProps:{value:t.tagName},on:{input:function(a){a.target.composing||(t.tagName=a.target.value)}}})]),e("button",{on:{click:t.addTag}},[t._v("添加")])]),e("transition-group",{staticClass:"tag_box",attrs:{name:"fade",tag:"div"}},t._l(t.tagsList,(function(a){return e("div",{key:a.id,staticClass:"tag",on:{click:function(e){return t.editTag(a.id)}}},[e("span",[t._v(t._s(a.name))])])})),0),e("sweet-modal",{ref:"modal",attrs:{icon:t.iconType}},[t._v(" "+t._s(t.content)+" ")]),e("sweet-modal",{ref:"tag",attrs:{"hide-close-button":""},on:{close:t.saveEdit},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 编辑标签 ")]},proxy:!0},{key:"default",fn:function(){return[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tagData.name,expression:"tagData.name"}],ref:"input",staticClass:"tag_name",domProps:{value:t.tagData.name},on:{input:function(a){a.target.composing||t.$set(t.tagData,"name",a.target.value)}}})])]},proxy:!0}])},[e("template",{slot:"button"},[e("button",{staticClass:"editButton",on:{click:t.deleteTag}},[t._v("删除标签")])])],2),e("sweet-modal",{ref:"nestedChild",attrs:{icon:"success"}},[t._v(" 删除成功 ")])],1)},i=[],s=e("ddb5"),o=e("bedc"),c=e("ce1e"),r=e("ce9d"),u=(e("8130"),e("6249"),e("3e22"),e("8d1b"),e("fd63")),d=e("e4a1"),g=function(t){Object(c["a"])(e,t);var a=Object(r["a"])(e);function e(){var t;return Object(s["a"])(this,e),t=a.apply(this,arguments),t.tagsList=[],t.tagData={id:void 0},t.tagName="",t.iconType="",t.content="",t}return Object(o["a"])(e,[{key:"init",value:function(){var t=this;this.axios.get("/tags").then((function(a){t.tagsList=a.data.res})).catch((function(a){t.$toast.error(a.msg)}))}},{key:"created",value:function(){this.init()}},{key:"addTag",value:function(){var t=this;""===this.tagName?(this.iconType="error",this.content="不能添加空标签",this.$refs.modal.open()):this.axios.post("/tags",{name:this.tagName}).then((function(a){0===a.data.stateCode?(t.iconType="success",t.content="添加成功",t.tagName="",t.init()):(t.iconType="error",t.content="已经有此标签,请勿重复添加",t.tagName=""),t.$refs.modal.open()})).catch((function(a){t.$toast.error(a.msg)}))}},{key:"editTag",value:function(t){var a=this;this.axios.get("/tags/".concat(t)).then((function(t){a.tagData=t.data.res})).catch((function(t){a.$toast.error(t.res)})),this.$refs.tag.open()}},{key:"saveEdit",value:function(){var t=this;this.axios.patch("/tags/".concat(this.tagData.id),{name:this.$refs.input.value.trim()}).then((function(a){var e=t.tagsList.findIndex((function(a){return a.id===t.tagData.id}));t.tagsList[e].name=a.data.res.name})).catch((function(t){}))}},{key:"deleteTag",value:function(){var t=this;this.axios.delete("/tags/".concat(this.tagData.id)).then((function(a){var e=t.tagsList.findIndex((function(a){return a.id===t.tagData.id}));t.tagsList.splice(e,1),t.iconType="success",t.content="删除成功",t.$refs.tag.close(),t.$refs.nestedChild.open()})).catch((function(t){console.log(t)}))}}]),e}(d["e"]);g=Object(u["a"])([d["a"]],g);var l=g,f=l,m=(e("3955"),e("cba8")),p=Object(m["a"])(f,n,i,!1,null,"270a48b9",null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-5561e5e7.e89e6ec3.js.map